<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ page.title | default: site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    
    <!-- Load React before any other scripts -->
    <script src="https://unpkg.com/react@18.2.0/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.development.js" crossorigin></script>
    <!-- Change the Lucide import to use the correct version -->
    <!-- <script crossorigin src="https://unpkg.com/lucide@0.263.1/dist/umd/lucide.umd.js"></script> -->
    
    <!-- Add error handling for React initialization -->
    <script>
        window.addEventListener('error', function(e) {
            if (e.message.includes('React')) {
                console.error('React failed to load properly:', e);
            }
        });
    </script>
  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">{{ page.title | default: site.title | default: site.github.repository_name }}</h1>
      <h2 class="project-tagline">{{ page.description | default: site.description | default: site.github.project_tagline }}</h2>
    </header>

    <nav id="nav">
      <ul>
        <li><a href="#about" class="tab-link active" data-tab="about">About Me</a></li>
        <li><a href="#projects" class="tab-link" data-tab="projects">Projects</a></li>
        <li><a href="#experience" class="tab-link" data-tab="experience">Experience</a></li>
        <li><a href="#contact" class="tab-link" data-tab="contact">Contact</a></li>
      </ul>
      <button class="icon" id="toggle">
        <div class="line line1"></div>
        <div class="line line2"></div>
      </button>
    </nav>

    <main id="content" class="main-content" role="main">
      {{ content }}

      <footer class="site-footer">
        {% if site.github.is_project_page %}
          <span class="site-footer-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</span>
        {% endif %}
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
    <script src="/assets/js/components/PacmanGame.js"></script>
    <script src="/assets/js/components/ProjectShowcase.js"></script>
    <script src="/assets/js/react-init.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
    <script src="{{ '/assets/js/app.js' | relative_url }}"></script>
  </body>
</html>